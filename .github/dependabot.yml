version: 2
updates:
  # ========================================
  # MAVEN - Backend Microservices
  # ========================================
  - package-ecosystem: 'maven'
    directory: '/'
    schedule:
      interval: 'weekly'
    open-pull-requests-limit: 10

    # CHẶN NÂNG CẤP LÊN SPRING BOOT 4
    ignore:
      - dependency-name: 'org.springframework.boot:*'
        update-types: ['version-update:semver-major']
      - dependency-name: 'org.springframework.cloud:*'
        update-types: ['version-update:semver-major']

    groups:
      java-microservices:
        patterns:
          - '*'
    labels:
      - 'dependencies'
      - 'java'

  # ========================================
  # NPM - Frontend & Root Tools
  # ========================================
  - package-ecosystem: 'npm'
    directory: '/'
    schedule:
      interval: 'weekly'
    groups:
      root-tools:
        patterns:
          - '*'
    labels:
      - 'dependencies'
      - 'devtools'

  - package-ecosystem: 'npm'
    directory: '/web-client'
    schedule:
      interval: 'weekly'
    groups:
      frontend-libs:
        patterns:
          - '*'
    labels:
      - 'dependencies'
      - 'frontend'
      - 'javascript'

  # ========================================
  # DOCKER & GITHUB ACTIONS
  # ========================================
  - package-ecosystem: 'docker'
    directory: '/.devcontainer'
    schedule:
      interval: 'weekly'
    labels:
      - 'dependencies'
      - 'docker'

  - package-ecosystem: 'github-actions'
    directory: '/'
    schedule:
      interval: 'weekly'
    labels:
      - 'dependencies'
      - 'ci'
