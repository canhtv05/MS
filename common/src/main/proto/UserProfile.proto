syntax = "proto3";

import "google/protobuf/timestamp.proto";
import "Common.proto";

option java_multiple_files = true;
option java_package = "com.leaf.common.grpc";
option java_outer_classname = "UserProfile";

service UserProfileGrpcService {
    rpc createUserProfile(UserProfileDTO) returns (UserProfileDTO);
    rpc getUserProfile(UserProfileIdRequest) returns (UserProfileResponse);
    rpc getUserProfilePrivacy(UserProfileIdRequest) returns (UserProfilePrivacyDTO);
    rpc getUserProfileIntroduce(UserProfileIdRequest) returns (UserProfileIntroduceDTO);
}

message UserProfileDTO {
    string userId = 1;
    string fullname = 2;
}

message UserProfileIdRequest {
    string userId = 1;
}

message UserProfileResponse {
    string userId = 1;
    string fullname = 2;
    google.protobuf.Timestamp createdDate = 3;
    string avatarUrl = 4;
    string coverUrl = 5;
    google.protobuf.Timestamp lastOnlineAt = 6;
    int64 followersCount = 7;
    int64 followingCount = 8;
    string id = 9;
    string bio = 10;
}

message UserProfilePrivacyDTO {
    string userId = 1;
    PrivacyLevel profileVisibility = 2;
    PrivacyLevel friendsVisibility = 3;
    PrivacyLevel postsVisibility = 4;
    PrivacyLevel introduceVisibility = 5;
    PrivacyLevel galleryVisibility = 6;
    string id = 7;
}

message UserProfileIntroduceDTO {
    string userId = 1;
    string city = 2;
    string hometown = 3;
    string jobTitle = 4;
    string company = 5;
    string school = 6;
    string websiteUrl = 7;
    string githubUrl = 8;
    string linkedinUrl = 9;
    string xUrl = 10;
    string instagramUrl = 11;
    string tiktokUrl = 12;
    string facebookUrl = 13;
    google.protobuf.Timestamp dob = 14;
    Gender gender = 15;
    RelationshipStatus relationshipStatus = 16;
    string phoneNumber = 17;
    repeated InterestDTO interests = 18;
    string id = 19;
}

message InterestDTO {
    string id = 1;
    string title = 2;
    string color = 3;
    string code = 4;
    string createdBy = 5;
    google.protobuf.Timestamp createdDate = 6;
    string modifiedBy = 7;
    google.protobuf.Timestamp modifiedDate = 8;
}
